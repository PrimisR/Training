#### 跳动字节

##### 前缀和

O(1)时间求区间和

```c++
#include <cstdio>
#include <algorithm>
#include <iostream>

using namespace std;

const long long MOD=192600817;

long long feb[50005];

long long sqr(long long n)
{
	long long ans=0;
	long long a=n;
	while(a)
	{
		if(a&1)
			ans+=n;
		ans%=MOD;
		a>>=1;
		n<<=1;
		n%=MOD;
	}
	return ans;
}

int main()
{
	int a,b,c,d;
	int st,ed;
	int q;
	feb[0]=1;	feb[1]=1;	feb[2]=2;
	for(int i=3;i<=50005;i++)
	{
		feb[i]=feb[i-1]+feb[i-2];
		feb[i]%=MOD;
	}
	for(int i=0;i<=50005;i++)
		feb[i]=sqr(feb[i]);
	for(int i=0;i<=50005;i++)
	{
		feb[i]+=feb[i-1];
		feb[i]=feb[i]%MOD;
	}
	while(scanf("%d",&q)==1)
	{
		while(q--)
		{
		scanf("%d%d%d%d",&a,&b,&c,&d);
		st=4*a+b;
		ed=4*c+d;
		if(st>ed) swap(st,ed);
		if(st==0)
			printf("%lld\n",feb[ed]%MOD);
		else
			printf("%lld\n",(MOD+feb[ed]-feb[st-1])%MOD);
		}
	}
}
```

##### 标记遍历

```c++
#include <cstdio>
#include <iostream>
#include <vector>
#include <ctime>

const int inf=1045000;

using namespace std;

int next(int num)
{
	int ans=0;
	while(num!=0)
	{
		ans+=((num%10)*(num%10));
		num/=10;
	}
	return ans;
}

bool gezi[inf]={false};
bool visited[inf]={false};

vector<int> visit;
int sequence[160000];

void zhibiao()
{
	gezi[0]=false; visited[0]=true;
	gezi[1]=true; visited[1]=true;
	for(int i=2;i<=inf;i++)
	{
		if(visited[i]==true) 
			continue;
		else
		{
			for(int shu=i;;shu=next(shu))
			{
//				cout<<shu<<endl; 
				if(visited[shu]==false)
				{
					visited[shu]=true;
					visit.push_back(shu);
				}
				else if(visited[shu]==true&&gezi[shu]==false)
				{
					for(int i=0;i<visit.size();i++)
						gezi[visit[i]]=false;
					visit.clear();
					break;
				}
				else if(visited[shu]==true&&gezi[shu]==true)
				{
					for(int i=0;i<visit.size();i++)
						gezi[visit[i]]=true;
					visit.clear();
					break;
				}
			}
		}
	}
}

void shunxu()
{
	int cnt=0;
	for(int i=0;i<inf;i++)
		if(gezi[i]==true)
			sequence[cnt++]=i;
}

int main()
{
//	printf("%lf\n",(double)clock()/CLOCKS_PER_SEC);
//	freopen("output.txt","w",stdout);
	zhibiao();
	shunxu();
//	printf("%lf\n",(double)clock()/CLOCKS_PER_SEC);
//	return 0;
//	cout<<sequence.size()<<endl;
//	cout<<"finish"<<endl;
//	for(int i=0;i<sequence.size();i++)
//		cout<<sequence[i];
	int q,k;
	scanf("%d",&q);
	while(q--)
	{
		scanf("%d",&k); 
		printf("%d\n",sequence[k-1]);
//		cout<<gezi[k]<<endl;
//		cout<<visited[k]<<endl;
	}
}
```

